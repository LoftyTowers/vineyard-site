<div class="relative bg-cover bg-center bg-no-repeat text-white py-24 px-4" [style.background-image]="heroImageUrl ? 'url(' + heroImageUrl + ')' : null">
  <button
    *ngIf="isAdmin"
    type="button"
    class="absolute top-4 right-4 bg-black/50 text-white rounded-full p-2 hover:bg-black/70 transition"
    aria-label="Edit hero image"
    (click)="openImagePicker()"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
      <path d="M4 13.5V16h2.5L15.7 6.8l-2.5-2.5L4 13.5zm12.7-7.2a1 1 0 0 0 0-1.4l-1.6-1.6a1 1 0 0 0-1.4 0l-1.3 1.3 2.5 2.5 1.8-1.8z"/>
    </svg>
  </button>
  <div class="bg-black/50 p-8 rounded-md max-w-3xl mx-auto text-center">
    <h1 class="text-4xl md:text-6xl font-heading font-normal">
      <ng-container *ngIf="isAdmin; else heroTitleView">
        <textarea rows="1" class="w-full bg-transparent text-center outline-none resize-none" [(ngModel)]="heroTitle"></textarea>
      </ng-container>
      <ng-template #heroTitleView>{{ heroTitle }}</ng-template>
    </h1>
    <p class="text-xl md:text-2xl mt-4 mb-6 font-body">
      <ng-container *ngIf="isAdmin; else heroSubtitleView">
        <textarea rows="1" class="w-full bg-transparent text-center outline-none resize-none" [(ngModel)]="heroSubtitle"></textarea>
      </ng-container>
      <ng-template #heroSubtitleView>{{ heroSubtitle }}</ng-template>
    </p>
    <button class="bg-primary hover:bg-[#2E4D2F] text-white px-6 py-3 rounded-md shadow uppercase tracking-wider text-sm transition duration-200">Explore Our Wines</button>
  </div>
</div>

<div class="flex flex-col items-start gap-6 py-12 border-t border-gray-200">
  <div class="w-full space-y-4 font-body text-contrast">
    <ng-container *ngIf="isAdmin; else viewMode">
      <app-editable-text-block [(content)]="combinedContent" (contentChange)="onContentChange($event)" [editable]="true"></app-editable-text-block>
    </ng-container>
    <ng-template #viewMode>
      <div class="prose prose-neutral max-w-none home-richtext" [innerHTML]="combinedContent"></div>
    </ng-template>
  </div>
</div>

<app-image-picker-dialog
  [isOpen]="isImagePickerOpen"
  (closed)="closeImagePicker()"
  (confirmed)="applyHeroImage($event)">
</app-image-picker-dialog>
